# Coding Guideline

このドキュメントは、本プロジェクトのHTML / CSS(SCSS) / JavaScript コーディングルールをまとめたものです。
GitHub Copilot や Copilot Chat によるコードレビュー時にも参照されます。

---

## 1. HTML（マークアップ）ガイドライン


### 1-2. 基本ルール・書式
- HTMLタグはすべて小文字記述。
- 終了タグは必ず記述。エンプティ要素（img, br, meta, link 等）は最後を閉じない。
- alt属性は必ず記載。装飾のみの画像は `alt=""` とする。

### 1-3. インデント・改行
- インデント：半角2スペース。スペース／タブ混在は禁止。
- コメントアウト：要素閉じタグ直後に「<!-- /.class-name -->」書式で記述。不要なコメントは記載しない。

### 1-4. 見出し（hタグ）ルール
- `h1` は原則ページ内1箇所。ページタイトルに用いる。ロゴ等では使わない。
- `h2`～`h6`は階層を飛ばさず記述。例：「h2 → h3」はOK、「h2 → h4」や「h3 → h2」の逆転はNG。  

### 1-5. img／picture要素
- `img` タグには `width` / `height` を指定し、 `decoding="async"` を設定。
- `picture` を使う際も `source` タグに `width` / `height` を指定。レスポンシブ対応時の縦横比注意。

---

## 2. CSS / SCSS ガイドライン

### 2-1. 基本ルール
- CSS定義は原則外部CSS。HTMLに直接記述しない。 
- Charset：UTF-8。値が「0」の場合は単位を省略。

### 2-2. 書式（インデント／改行）
- インデント：半角2スペース。タブ・スペース混在禁止。

### 2-3. プロパティの書き方
- カラーコード：小文字、3文字表記可能なら3文字。例 `#fff`、`#033`。
- 小数点の頭の0を省略しない。例 `0.5em`。
- 値が0の場合、px等の単位を省略。例 `margin: 0;`。

### 2-4. 禁止事項・注意点
- インラインスタイル（style属性）禁止。head内のstyle要素禁止。  
- CSSハックは原則禁止。どうしても必要なら責任者へ相談。  

### 2-5. ベンダープレフィックス
- 新規案件では原則付けない（Autoprefixer等不要）。既存案件は既存ルールに従う。

---

## 3. Sass (SCSS) ガイドライン

### 3-1. 記法・コンパイル設定
- 記法：Dart Sass を使用。 
- コンパイル形式：compressed。既存案件が異なる場合はそのまま維持。
- Autoprefixer（ベンダープレフィックス）の利用は原則しない。

---

## 4. JavaScript ガイドライン

### 4-1. 基本ルール
- HTML／CSSだけでは対応できない動きのみJavaScriptで実装。
- 実装箇所に何をしているかのコメントを付与。
- 全ブラウザ・端末で動作チェックし、デベロッパーツールのコンソールにエラーが出ていないこと。

### 4-2. 読み込み位置・プラグイン
- 外部JavaScriptファイル読み込みは原則 `defer`を設定したうえで `<head>` 内に配置。
- プラグイン利用時は CDN ではなく所定ディレクトリ（例 `/assets/vender/`）にダウンロードして格納。ライセンス確認必須。

### 4-3. インデント・改行
- インデント：半角2スペース。タブ・スペース混在禁止。 
- jQueryは基本3系最新版を使用（必要な案件に限る）｡

---

## 5. 命名規則

### 5-1. 基本書式
- 半角英数字のみ使用。機種依存文字禁止。
- 英字から始める。数字で始めてはいけない。全角スペース・半角スペース禁止。
- 禁止文字：`\` `/` `*` `:` `?` `<` `>` `|` `＄` など。

### 5-2. ファイル命名
- HTMLと対応付けて、CSS／JSファイル名は HTMLのディレクトリ名／ファイル名と同じ名前を使用。例：`/index.html` → `/assets/css/top.css`, `/assets/js/top.js`。

### 5-3. id／class命名
- id：対象となるコンテンツ名を英訳したIDを付与。主にアンカーリンク対象のセクションへ。
- class：原則として BEM + FLOCSS に従う。子要素は `__`、バリエーション・兄弟要素は `--`。単語をつなぐときは `-` を使用。 

### 5-4. 画像命名
- 構成：‘Block名’ + ‘_’ + ‘画像タイプ’ + ‘_’ + ‘連番（任意）’ 。例：`company-information_img_01.jpg`。
- サイト共通画像：Block名省略可。例：`logo.png`。スマホ用には `_sp`、Retina用2倍サイズには `@2x` を付与。
- 頻出画像には連番。数字は01スタート。3桁以上が予想される場合は001から。
- 表記省略は極力せず。ただし以下の省略は可：navigation → nav, title → ttl 等。

---

## 6. レスポンシブコーディング

### 6-1. メディアクエリの記述箇所
- ブレイクポイントごとにまとめて書くのは原則禁止。セレクタ毎にメディアクエリを記述。

### 6-2. レスポンシブイメージ・Retina
- `picture` 要素を使用。Retina対応は `srcset="... 2x"`。
- 指定されたブレークポイント： `$xs: 375; $sm: 768; $md: 1025; $lg: 1240;` （案件により変更）｡ 

### 6-3. タブレット表示
- 指定がない場合はPC表示と同じ見え方で制作。案件仕様があればそれに従う。

---

## 7. サイトパフォーマンス／最適化

### 7-1. 画像圧縮
- タスクランナーやオンラインツール（TinyPNG, Optimizilla等）で書き出した画像を圧縮。

### 7-2. チェックツール
- 新規ページ作成後は Chrome DevTools の Lighthouse でパフォーマンスチェック。スコアが30点に満たない場合は原因を調査し改善。

---

## 8. インクルード（共通パーツ／運用）

- ヘッダー・フッター・サイドバー等、複数ページで使う部位はインクルード化。案件に応じて PHP／SSI／JavaScript など。
- SSIを使う場合はサーバの仕様（.htaccess 等）を確認。JavaScriptでのインクルードは `document.write()` を使わず `fetch()` で取得・挿入。

## 10. 禁止事項まとめ（クイックリファレンス）

- タブとスペースの混在インデント  
- インラインスタイル／head内スタイル要素  
- JavaScriptでの `document.write()` を使ったインクルード  
- BEM 要素の多重 `__` や階層的すぎる命名（例：`.block__element__element`）
- 機種依存文字使用  
- 画像の命名規則無視／Retina・SP表記無視 

---

## Copilot にレビューを依頼する際のプロンプト例
以下のようなプロンプトを使うと、Copilot Chat で効果的にレビューを行えます。

- 「このプロジェクトの `coding-guideline.md` に基づいて、`html/index.html` と `html/assets/css/style.css` をレビューしてください。  
-  ガイドライン違反箇所と修正案を、箇条書きで優先度付き（High／Medium／Low）で出してください。  
- 特に、マークアップの閉じタグ漏れ・インデント不統一・BEM命名ルール違反・imgタグの width/height非指定・コンソールエラーの可能性があるスクリプト読み込み位置などを重点的にチェックしてください。」
- 「上記レビューで指摘された High 優先の箇所について、具体的な修正コード（HTML／CSS）を示してください。」